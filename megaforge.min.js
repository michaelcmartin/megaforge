(()=>{"use strict";var e=function(e){e.sort((function(e,n){return e-n}))},n=function(e){return function(n){for(var a="",t="",r=["A","B","C","D","E","F"],o=0;o<n.length;o+=1){var l=r[Math.floor(n[o]/e)];""===t?(t=l,a+=l):t!==l&&(t=l,a+=" "+l),a+=(n[o]%e+1).toString()}return a}},a=function(e){var a=n(6),t=e.red.length>0,r=e.blue.length>0,o="";return t&&(o+='<span style="color: red">Red: '+a(e.red)+"</span>",r&&(o+="<br>")),r&&(o+='<span style="color: blue">Blue: '+a(e.blue)+"</span>"),o},t=function(e){return"["+e.join(", ")+"]"},r=function(e){return"{ red: "+t(e.red)+", blue: "+t(e.blue)+"}"};let o=(l={"Heat Man":[1,14],"Quick Man":[3,8],"Flash Man":[5,18],"Crash Man":[9,16],"Bubble Man":[10,7],"Wood Man":[12,4],"Air Man":[17,11],"Metal Man":[19,15]},{options:["Air Man","Bubble Man","Crash Man","Flash Man","Heat Man","Metal Man","Quick Man","Wood Man",null,["E-Tanks",0,4]],createPassword:function(n){var a=0,t=[];for(var r in"number"==typeof n["E-Tanks"]&&(a=n["E-Tanks"]),t.push(a),l)if(l.hasOwnProperty(r)){var o=0;o=((o=n[r]?l[r][0]:l[r][1])+a)%20,t.push(o+5)}return e(t),t},interpret:n(5),debugInterpret:t});var l;let i=(u={Blanka:"Heat Man","C. Viper":"Quick Man",Ryu:"Flash Man",Urien:"Crash Man",Dhalsim:"Bubble Man","Chun-Li":"Wood Man",Rolento:"Air Man",Rose:"Metal Man"},{options:["Blanka","Chun-Li","C. Viper","Dhalsim","Rolento","Rose","Ryu","Urien",null,["E-Tanks",0,4]],createPassword:function(e){var n={};for(var a in e)e.hasOwnProperty(a)&&(u[a]?n[u[a]]=e[a]:n[a]=e[a]);return o.createPassword(n)},interpret:o.interpret,debugInterpret:o.debugInterpret});var u;let M=(s=[16,29,27,9,4,12,19,14,31,5],h={"Top Man":2,"Spark Man":33,"Needle Man":20,"Gemini Man":10,"Spark Man Docbots":0,"Needle Man Docbots":7,"Snake Man":35,"Shadow Man":23,"Magnet Man":34,"Hard Man":15,"Shadow Man Docbots":3,"Gemini Man Docbots":11,"Break Man":24},d={"Top Man":"Snake Man","Spark Man":"Shadow Man","Needle Man":"Magnet Man","Gemini Man":"Hard Man","Spark Man Docbots":"Shadow Man Docbots","Needle Man Docbots":"Gemini Man Docbots"},{options:["Gemini Man","Hard Man","Magnet Man","Needle Man","Shadow Man","Snake Man","Spark Man","Top Man",null,"Gemini Man Docbots","Needle Man Docbots","Shadow Man Docbots","Spark Man Docbots",null,"Break Man",null,["E-Tanks",0,9]],createPassword:function(n){var a=0,t=[],r=[];for(var o in"number"==typeof n["E-Tanks"]&&(a=n["E-Tanks"]),a<0&&(a=0),a>9&&(a=9),t.push(s[a]),n["Break Man"]&&t.push(h["Break Man"]),d)if(d.hasOwnProperty(o)){var l=d[o];n[o]?n[l]?r.push(h[o]):t.push(h[o]):n[l]&&t.push(h[l])}return e(t),e(r),{red:t,blue:r}},interpret:a,debugInterpret:r});var s,h,d;let p=(c=[["Toad Man","Bright Man",1,6,13,0],["Pharaoh Man","Drill Man",2,9,14,3],["Ring Man","Dust Man",4,11,16,10],["Dive Man","Skull Man",18,24,31,25],["Balloon","Wire",26,20,21,32]],T=[34,5,7,8,12,15,17,19,27,29,30],{options:["Bright Man","Dive Man","Drill Man","Dust Man","Pharaoh Man","Ring Man","Skull Man","Toad Man",null,"Balloon","Wire"],createPassword:function(n){for(var a=[],t=0,r=0;r<c.length;++r){var o=2;n[c[r][0]]&&(t+=1,o+=1),n[c[r][1]]&&(t+=1,o+=2),a.push(c[r][o])}return a.push(T[t]),e(a),a},interpret:n(6),debugInterpret:t});var c,T;let f=(b=[[34,10,11,16,17,5,4,35],[20,32,33,2,3,27,26,21],[6,19,25,12]],m=[[28,22,29,22,29,23,28,23],[8,14,15,14,15,9,8,9],[30,1,1,30]],v={"Gravity Man":[0,4],"Wave Man":[0,2],"Stone Man":[0,1],"Gyro Man":[1,4],"Star Man":[1,2],"Charge Man":[1,1],"Napalm Man":[2,2],"Crystal Man":[2,1],"[M] Tile (1)":[3,4],"[E] Tile":[3,2],"[G] Tile":[3,1],"[A] Tile (1)":[4,4],"[M] Tile (2)":[4,2],"[A] Tile (2)":[4,1],"[N] Tile":[5,2],"[V] Tile":[5,1]},{options:["Charge Man","Crystal Man","Gravity Man","Gyro Man","Napalm Man","Star Man","Stone Man","Wave Man",null,"[M] Tile (1)","[E] Tile","[G] Tile","[A] Tile (1)","[M] Tile (2)","[A] Tile (2)","[N] Tile","[V] Tile"],createPassword:function(n){var a=[],t=[],r=[0,0,0,0,0,0];for(var o in v)v.hasOwnProperty(o)&&n[o]&&(r[v[o][0]]+=v[o][1]);for(var l=0;l<3;++l)a.push(b[l][r[l]]),r[l]===r[3+l]?t.push(m[l][r[3+l]]):t.push(b[l][r[3+l]]);return e(a),e(t),{red:a,blue:t}},interpret:a,debugInterpret:r});var b,m,v;let g=(k=[["Blizzard Man","Tomahawk Man","[B] Tile",1,13,25,9,5,17],["Wind Man","Yamato Man","[E] Tile",6,8,10,18,11,22],["Plant Man","Knight Man","[A] Tile",2,3,4,26,14,16],["Flame Man","Centaur Man","[T] Tile",7,0,12,24,19,31]],B=[["Blizzard Man","Tomahawk Man","[B] Tile",0,1,6,7,12,13],["Wind Man","Yamato Man","[E] Tile",24,25,30,31,2,3],["Plant Man","Knight Man","[A] Tile",4,5,10,11,16,17],["Flame Man","Centaur Man","[T] Tile",14,15,20,21,26,27]],{options:["Blizzard Man","Centaur Man","Flame Man","Knight Man","Plant Man","Tomahawk Man","Yamato Man","Wind Man",null,"[B] Tile","[E] Tile","[A] Tile","[T] Tile",null,"Energy Economizer"],createPassword:function(n){var a=[],t=k;n["Energy Economizer"]?(t=B,a.push(28)):a.push(34);for(var r=0;r<t.length;++r){var o=3;n[t[r][0]]&&(o+=1),n[t[r][1]]&&(o+=2,n[t[r][2]]&&(o+=2)),a.push(t[r][o])}return e(a),a},interpret:n(6),debugInterpret:t});var k,B;let E=function(){var e=[0,7,3,5,2,5,2,7,4,4,1,6,0,3,6,2],n={Intro:[6,2],"Freeze Man":[10,4],"Junk Man":[8,4],"Cloud Man":[1,4],"Burst Man":[7,1],"Robot Museum":[10,1],"Shade Man":[5,1],"Spring Man":[4,1],"Turbo Man":[15,1],"Slash Man":[13,2],"S-Tank":[12,4],Exit:[15,2],"Rescued Beat":[9,2],"Found HyperBolt":[13,4],"Delivered HyperBolt":[11,2],"Energy Balancer":[1,2],"Power Enhancer":[12,1],"[R] Tile":[14,1],"[U] Tile":[9,4],"[S] Tile":[0,4],"[H] Tile":[6,4],"Rush Jet":[0,2],"Rush Search":[11,1],"Suit Adapter":[14,2],Protoshield:[7,4],"512 bolt":[5,4],"256 bolt":[2,2],"128 bolt":[0,1],"64 bolt":[14,4],"32 bolt":[12,2],"16 bolt":[5,2],"8 bolt":[11,4],"4 bolt":[8,2],"2 bolt":[2,4],"1 bolt":[4,2],"4 W-Tank":[3,4],"2 W-Tank":[3,1],"1 W-Tank":[7,2],"4 E-Tank":[15,4],"2 E-Tank":[9,1],"1 E-Tank":[13,1],"4 Whistle":[3,2],"2 Whistle":[2,1],"1 Whistle":[10,2],"Tier 2":[1,1],"All Robots Defeated":[4,4],"Check Bit 1":[6,1],"Check Bit 2":[8,1]};return{options:["Intro",null,"Burst Man","Cloud Man","Freeze Man","Junk Man",null,"Robot Museum",null,"Shade Man","Slash Man","Spring Man","Turbo Man",null,"Rush Jet","Rush Search","Suit Adapter","Protoshield","Energy Balancer","Power Enhancer",null,"[R] Tile","[U] Tile","[S] Tile","[H] Tile",null,"Found HyperBolt","Delivered HyperBolt","Rescued Beat",null,["Bolts",0,999],["E-Tanks",0,4],["W-Tanks",0,4],["Beat Whistles",0,4],"S-Tank","Exit"],createPassword:function(a){var t=0,r=0,o=0,l=0,i=[];for(var u in a)a.hasOwnProperty(u)&&a[u]&&n[u]&&i.push(u);return"number"==typeof a.Bolts&&(t=a.Bolts),"number"==typeof a["E-Tanks"]&&(r=a["E-Tanks"]),"number"==typeof a["W-Tanks"]&&(o=a["W-Tanks"]),"number"==typeof a["Beat Whistles"]&&(l=a["Beat Whistles"]),function(a){var t,r=[];for(t=0;t<16;++t)r[t]=e[t];for(t=0;t<a.length;++t){var o=n[a[t]];o?r[o[0]]^=o[1]:alert("Unknown element: "+a[t])}for(t=0;t<16;++t)0==r[t]&&(r[t]=8);return r}(function(e,n,a,t,r){var o,l,i,u,M,s=[];for(i=0,u=0,o=0;o<e.length;++o){var h=e[o];s.push(h),"Burst Man"!==h&&"Cloud Man"!==h&&"Freeze Man"!==h&&"Junk Man"!==h||++i,"Turbo Man"!==h&&"Spring Man"!==h&&"Shade Man"!==h&&"Slash Man"!==h||++u}for(0!=u&&s.push("Tier 2"),4==i&&4==u&&s.push("All Robots Defeated"),l=1;l<=n&&l<1024;l*=2)0!=(n&l)&&s.push(l+" bolt");for(l=1;l<=a&&l<8;l*=2)0!=(a&l)&&s.push(l+" E-Tank");for(l=1;l<=t&&l<8;l*=2)0!=(t&l)&&s.push(l+" W-Tank");for(l=1;l<=r&&l<8;l*=2)0!=(r&l)&&s.push(l+" Whistle");return(o=s.length)>0&&(1&(M=2-o)&&(s[o]="Check Bit 1",++o),2&M&&(s[o]="Check Bit 2",++o)),s}(i,t,r,o,l))},interpret:function(e){return e.slice(0,4).join("")+"-"+e.slice(4,8).join("")+"-"+e.slice(8,12).join("")+"-"+e.slice(12,16).join("")},debugInterpret:function(a){var t=[];for(var r in n)if(n.hasOwnProperty(r)){var o=n[r][0],l=n[r][1];(a[o]&l)!=(e[o]&l)&&t.push(r)}return"["+t.join(", ")+"]"}}}(),y={"Mega Man 2":o,"Mega Man 3":M,"Mega Man 4":p,"Mega Man 5":f,"Mega Man 6":g,"Mega Man 7":E,"Street Fighter X Mega Man":i};var S={},w=[],C=null,P=function(){var e=[],n=null;if(C&&(e=C.createPassword(S),n=C.interpret(e)),n){document.getElementById("output").innerHTML=n;var a="{";for(var t in S)S.hasOwnProperty(t)&&(a+="{"===a?"":", ",a+=t+": "+S[t]);a+="}";var r=document.getElementById("debug");r&&(r.innerHTML="DEBUG: "+C.debugInterpret(e)+"<br>"+a)}};window.mf_display={initialize:function(){for(var e in w=[],y)y.hasOwnProperty(e)&&w.push(e);w.sort();for(var n=0;n<w.length;n++){var a=document.createElement("OPTION"),t=document.createTextNode(w[n]);a.appendChild(t),a.id=w[n],document.getElementById("gameSelect").appendChild(a)}w.length>0&&mf_display.selectGame(0)},selectGame:function(e){var n=y[w[e]];if(n){C=n;var a=document.getElementById("optionsTable");for(S={};a.rows.length>0;)a.deleteRow(0);for(var t=0;t<C.options.length;t+=1){var r,o=C.options[t],l=a.insertRow(a.rows.length).insertCell(0),i="";if(null===o){var u=document.createElement("HR");l.appendChild(u)}else if("string"==typeof o){r=document.createElement("LABEL"),l.appendChild(r);var M=document.createElement("INPUT");M.setAttribute("type","checkbox"),M.id=o,M.onclick=function(){this.checked?S[this.id]=1:delete S[this.id],P()},i=document.createTextNode(o),r.appendChild(M),r.appendChild(i)}else{r=document.createElement("LABEL"),l.appendChild(r);var s=document.createElement("INPUT");s.setAttribute("type","number"),s.id=o[0],s.min=o[1],s.max=o[2],s.defaultValue=o[1],s.value=o[1],s.onchange=function(){var e=parseInt(this.value,10),n=parseInt(this.min,10),a=parseInt(this.max,10);e<n?(e=mMin,this.value=this.min):e>a&&(e=a,this.value=this.max),S[this.id]=e,P()},i=document.createTextNode(o[0]+": "),r.appendChild(i),r.appendChild(s)}}P()}}}})();